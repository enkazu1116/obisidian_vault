#fleeting #Kotlin #関数型プログラミング
関数を主軸にしたプログラミングを行うスタイル
### 関数とは
関数は、数学的なものを指す。
引数の値が定まれば結果も定まるという参照透過性を持つもの。
### 参照透過性とは
同じ値を返す式を与えられたら、必ず同じ値を返すような性質
```kotlin
fun addNum(value: Int): Int {
	return value + 1
}
```
この場合、引数で2を渡せば、3がいついかなる時でも返ってくる。
### 純粋関数とは
1. 参照透過性がある
2. 外部に対する副作用がない
3. 引数のみを使う
4. 戻り値が一意に求まる
外部に対する副作用がないという点について
```kotlin
var property: Int = 0
fun someFunc(value: Int): Int {
	property++
	return value * value
}
```
propertyという外部の変数の値を変更してしまっている。
これによって起きることとして、getterの戻り値が関数の呼び出し前後で結果が異なる現象が起きる。
これが外部に対して副作用を起こす。という。

### 値の不変性
値を再代入できないことにより、不変性を保つ。
1. データの変更による外部への副作用が減る。
2. マルチスレッドでコードを書いた時に、デッドロックなどが起こりづらいスレッドセーフなコードを書くことができる。

### 繰り返し処理
for文は可読性が低い。最初の行で言えば、indexの操作の情報だけしかないため、そこだけ見た場合の意図が読み手に伝わりづらい。
多いケースとして、for文のスコープの外側の状態を変更しながら処理することが多いため、値の不変性と考えが合わない。

---
# モナド
抽象的な概念である。理解するためにはモナドのインスタンスを多く知ること。
- Maybeモナド
  操作した結果が必ず成功するとは限らない。
  失敗しうる計算は、例外処理機構として機能する。途中で失敗すればそこで計算を中止して、呼び出し元では計算が成功したか失敗したかがわかる。
  このような構文を実現するもの。
- Eitherモナド
  Maybeモナドでは成功したか失敗したか結果を知ることはできるが、原因は知ることができない。知りたいときにこれを使う。
  エラーの値と一緒に計算を途中で抜ける振る舞いができる。
- リストモナド
  計算が複数個の結果を持つような計算を表すことができるモナド
- STモナド
  状態を変えることができる。
- Identityモナド
  ただ計算をするのみ
  他のモナドの内部に埋め込まれる時によく使われる。
- Freeモナド
  どんなモナドにも変化することができる。
- IOモナド
  外部とのあらゆるやり取りを担う機能の多いモナド
--- 
# カリー化
複数の引数をとる関数を、
引数が「もとの関数の最初の引数」で
戻り値が「もとの関数の残りの引数を取り結果を返す関数」で
あるような関数にすること

### 第一級関数
関数を他の変数と同様に扱うことができること

### 高階関数
引数や戻り値に関数を設定することができる。それを実装したものを高階関数という。

add関数を使用している実装例
[https://kdotdev.com/kdotdev/monkey_curry]
# 部分適用
複数の引数をとる関数の一部の引数に
実引数を適用する操作のこと

--- 
参考文献
関数型プログラミングについて
[https://qiita.com/nemo-855/items/92b37ef2e9083c0d6c16]
Kotlin x Arrow [https://zenn.dev/jy8752/articles/3fdbd84b9710e1]
Arrow公式 [https://arrow-kt.io/learn/quickstart/]
RxJava [https://qiita.com/disc99/items/1b2e44a1105008ec3ac9]
モナド [https://qiita.com/hiruberuto/items/8bbc0343bf794c368287]